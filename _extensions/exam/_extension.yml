title: Quarto Exam Extension
author: Davood Tofighi
version: 0.6.6
quarto-required: ">=1.4.0"

# Extension directory is "exam", so users reference formats as:
#   exam-html, exam-pdf, exam-gfm, exam-odt, exam-docx, exam-typst
#
# QTI Export: Add `exam.qti: true` to any format to enable QTI generation
# Example:
#   format: exam-html
#   exam:
#     qti: true
#
# For solutions, use: exam.solutions: true

contributes:
  formats:
    # =========================================
    # Common options for all formats
    # =========================================
    common:
      filters:
        - exam-filter.lua
      exam:
        solutions: false
        default-points: 2
        qti: false

    # =========================================
    # HTML Preview Format (exam-html)
    # =========================================
    html:
      toc: false
      number-sections: false
      theme:
        - cosmo
        - exam.scss
      exam:
        grading-table: true
        shuffle-answers: false
        fonts:
          size: 11pt
          section-size: 1.2em
          question-title-size: 1em
          question-title-weight: 600
          question-desc-size: 1em
          question-desc-weight: 400
        answer-space:
          short-answer: 2cm
          essay: 5cm

    # =========================================
    # PDF Format (exam-pdf)
    # Use exam.solutions: true for answer key
    # =========================================
    pdf:
      documentclass: article
      fontsize: 10pt
      geometry: margin=1in
      exam:
        grading-table: true
        fonts:
          size: 10pt
          question-size: 1em
          section-size: 1.2em
          question-weight: 600
        answer-space:
          multiple-choice: 0cm
          true-false: 0cm
          short-answer: 2cm
          numeric: 1.5cm
          essay: 5cm
        header:
          left: "{{course.number}}"
          right: "Name: _______"
        footer:
          center: "Page {{page}} of {{pages}}"

    # =========================================
    # ODT Format (exam-odt)
    # OpenDocument for Google Docs, LibreOffice
    # =========================================
    odt:
      toc: false
      number-sections: false
      exam:
        grading-table: true
        fonts:
          size: 10pt
          question-size: 1em
          section-size: 1.2em
          question-weight: 600
        answer-space:
          short-answer: 2cm
          essay: 5cm

    # =========================================
    # DOCX Format (exam-docx)
    # Microsoft Office
    # =========================================
    docx:
      toc: false
      exam:
        grading-table: true

    # =========================================
    # GFM Format (exam-gfm)
    # GitHub Flavored Markdown for QTI export
    # Auto-generates QTI by default
    # =========================================
    gfm:
      variant: gfm+tex_math_dollars
      post-render: qti-post-render.js
      exam:
        qti: true
        solutions: false
        include-answers: true

    # =========================================
    # Typst Format (exam-typst)
    # Modern PDF alternative
    # =========================================
    typst:
      fontsize: 10pt
      margin:
        x: 1in
        y: 1in
      exam:
        grading-table: true
